# 04. RFM 세그먼테이션

## 학습 목표

이 모듈을 완료하면 다음을 할 수 있습니다:

1. **RFM 모델**을 이해하고 SQL로 점수를 계산할 수 있다
2. **고객 세그먼트**를 정의하고 분류할 수 있다
3. 세그먼트별 **마케팅 전략**을 수립할 수 있다
4. **파레토 법칙**을 데이터로 검증할 수 있다

---

## 핵심 개념

### RFM이란?

고객을 **3가지 행동 지표**로 분류하는 세그먼테이션 기법

| 지표 | 의미 | 측정 방법 | 높을수록 |
|------|------|-----------|----------|
| **R** (Recency) | 최근성 | 마지막 구매 이후 경과일 | 최근에 구매 |
| **F** (Frequency) | 빈도 | 총 구매 횟수 | 자주 구매 |
| **M** (Monetary) | 금액 | 총 구매 금액 | 많이 지출 |

### 점수 계산 방법

각 지표를 **5분위(Quintile)**로 나누어 1~5점 부여

```
R: 최근 구매일이 가까울수록 높은 점수 (5점)
F: 구매 횟수가 많을수록 높은 점수 (5점)
M: 총 구매 금액이 클수록 높은 점수 (5점)
```

**예시:**
- RFM = 555 → 최우수 고객 (Champions)
- RFM = 111 → 이탈 고객 (Lost)

### 주요 세그먼트

| 세그먼트 | RFM 특성 | 마케팅 전략 |
|----------|----------|-------------|
| **Champions** | 555, 554, 545 | VIP 대우, 로열티 프로그램 |
| **Loyal** | 435, 534, 443 | 업셀링, 크로스셀링 |
| **Potential Loyalist** | 512, 513, 412 | 관계 강화, 멤버십 제안 |
| **New Customers** | 511, 411, 311 | 온보딩, 첫구매 혜택 |
| **At Risk** | 155, 254, 145 | 윈백 캠페인, 할인 |
| **Cannot Lose** | 155, 145, 135 | 긴급 재활성화 |
| **Lost** | 111, 121, 112 | 포기 또는 저비용 리타겟 |

### 왜 중요한가?

1. **고객 가치 평가**: 행동 데이터로 객관적 가치 측정
2. **맞춤형 마케팅**: 세그먼트별 차별화된 전략
3. **자원 최적화**: 고가치 고객에 리소스 집중
4. **이탈 예측**: R 점수 하락 = 이탈 신호

---

## 실습 순서

1. `exercise.ipynb` 열기
2. 각 미션의 SQL을 직접 작성
3. 막히면 힌트 참고 (가능한 안 보고!)
4. 완료 후 `solution.sql`과 비교
5. 회고: 어떤 점이 어려웠는지 정리

---

## 테이블 구조

```sql
-- 고객 테이블
customers (
    customer_id,          -- 고객 ID
    signup_date,          -- 가입일
    acquisition_channel,  -- 획득 채널
    acquisition_cost,     -- 획득 비용
    is_churned            -- 이탈 여부
)

-- 거래 테이블
transactions (
    transaction_id,    -- 거래 ID
    customer_id,       -- 고객 ID (FK)
    transaction_date,  -- 거래일
    amount,            -- 거래 금액
    product_category   -- 상품 카테고리
)
```

---

## 면접 대비 포인트

**자주 묻는 질문:**
1. "고객 세그먼테이션 경험이 있나요?"
2. "RFM 분석을 어떻게 활용하셨나요?"
3. "파레토 법칙이 실제로 적용되던가요?"

**좋은 답변 예시:**
> "네, RFM 분석을 활용한 고객 세그먼테이션 경험이 있습니다.
>
> 전체 고객을 Recency, Frequency, Monetary 3가지 지표로 점수화하고,
> 이를 기반으로 Champions, At Risk, Lost 등 세그먼트로 분류했습니다.
>
> 특히 At Risk 세그먼트(과거 우수고객이었으나 최근 이탈 조짐)에
> 타겟 윈백 캠페인을 진행하여 재구매율 25% 달성했습니다.
>
> 또한 분석 결과 상위 20% 고객이 매출의 65%를 차지하는 것을 발견하여,
> 이들을 위한 VIP 프로그램을 설계했습니다."
